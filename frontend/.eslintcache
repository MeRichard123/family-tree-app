[{"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\index.tsx":"1","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\App.tsx":"2","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\Navigation.tsx":"3","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Views\\index.ts":"4","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Views\\Home.tsx":"5","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\Footer.tsx":"6","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Views\\Login.tsx":"7","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Views\\Register.tsx":"8","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\Tree.tsx":"9","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Utils\\store.ts":"10","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Views\\UserPage.tsx":"11","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Utils\\PrivateRoute.tsx":"12","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Views\\Logout.tsx":"13","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Utils\\Loading.tsx":"14","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\AddMember.tsx":"15","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\UserTree.tsx":"16","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\MemberChangeForm.tsx":"17","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\Forms\\index.ts":"18","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\Forms\\CousinForm.tsx":"19","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\Forms\\AuntForm.tsx":"20","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\Forms\\GrandparentForm.tsx":"21","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\Forms\\SiblingForm.tsx":"22","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\Forms\\UncleForm.tsx":"23","C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Views\\UserInfoForm.tsx":"24"},{"size":477,"mtime":1610119770572,"results":"25","hashOfConfig":"26"},{"size":1092,"mtime":1611163733213,"results":"27","hashOfConfig":"26"},{"size":1292,"mtime":1610124614186,"results":"28","hashOfConfig":"26"},{"size":296,"mtime":1611163698997,"results":"29","hashOfConfig":"26"},{"size":1411,"mtime":1610290937604,"results":"30","hashOfConfig":"26"},{"size":318,"mtime":1609855418859,"results":"31","hashOfConfig":"26"},{"size":2763,"mtime":1611253229796,"results":"32","hashOfConfig":"26"},{"size":2670,"mtime":1612180122825,"results":"33","hashOfConfig":"26"},{"size":1308,"mtime":1611266982637,"results":"34","hashOfConfig":"26"},{"size":1068,"mtime":1610048329536,"results":"35","hashOfConfig":"26"},{"size":2061,"mtime":1611831942762,"results":"36","hashOfConfig":"26"},{"size":600,"mtime":1610052969302,"results":"37","hashOfConfig":"26"},{"size":773,"mtime":1610130482707,"results":"38","hashOfConfig":"26"},{"size":181,"mtime":1610122780733,"results":"39","hashOfConfig":"26"},{"size":2630,"mtime":1611833363446,"results":"40","hashOfConfig":"26"},{"size":4937,"mtime":1611831935385,"results":"41","hashOfConfig":"26"},{"size":684,"mtime":1611170703641,"results":"42","hashOfConfig":"26"},{"size":281,"mtime":1610895712094,"results":"43","hashOfConfig":"26"},{"size":1905,"mtime":1611267082930,"results":"44","hashOfConfig":"26"},{"size":2232,"mtime":1611266172245,"results":"45","hashOfConfig":"26"},{"size":2549,"mtime":1611266037374,"results":"46","hashOfConfig":"26"},{"size":1435,"mtime":1611266109916,"results":"47","hashOfConfig":"26"},{"size":2240,"mtime":1611266165138,"results":"48","hashOfConfig":"26"},{"size":6317,"mtime":1612211018279,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"18g9otx",{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"99"},"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\index.tsx",[],["100","101"],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\App.tsx",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\Navigation.tsx",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Views\\index.ts",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Views\\Home.tsx",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\Footer.tsx",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Views\\Login.tsx",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Views\\Register.tsx",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\Tree.tsx",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Utils\\store.ts",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Views\\UserPage.tsx",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Utils\\PrivateRoute.tsx",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Views\\Logout.tsx",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Utils\\Loading.tsx",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\AddMember.tsx",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\UserTree.tsx",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\MemberChangeForm.tsx",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\Forms\\index.ts",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\Forms\\CousinForm.tsx",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\Forms\\AuntForm.tsx",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\Forms\\GrandparentForm.tsx",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\Forms\\SiblingForm.tsx",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Components\\Forms\\UncleForm.tsx",[],"C:\\Users\\User\\Documents\\Dev\\FULLSTACK\\family-tree-app\\frontend\\src\\Views\\UserInfoForm.tsx",["102","103"],"import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { useAlert } from \"react-alert\";\r\nimport Tree from \"../Assets/tree.svg\";\r\nimport { useQuery } from \"react-query\";\r\nimport AddMember from \"../Components/AddMember\";\r\nimport Loading from \"../Utils/Loading\";\r\n\r\nconst routes: Array<string> = [\r\n  \"aunts\",\r\n  \"uncles\",\r\n  \"grandparents\",\r\n  \"siblings\",\r\n  \"cousins\",\r\n];\r\n\r\nconst UserInfoForm: React.FC = () => {\r\n  const [mother, setMother] = useState<string>(\"\");\r\n  const [father, setFather] = useState<string>(\"\");\r\n  const [oldPassword, setOldPass] = useState<string>(\"\");\r\n  const [newPassword, setNewPass] = useState<string>(\"\");\r\n  const [HTTPMethod, setHTTP] = useState<string>(\"create\");\r\n  const alert = useAlert();\r\n\r\n  let token = localStorage.getItem(\"token\");\r\n  token = JSON.parse(token || \"{}\").token;\r\n\r\n  const getUserDetail = async () => {\r\n    const { data } = await axios.get(\"http://localhost:8000/api/auth/user\", {\r\n      headers: { Authorization: `Token ${token}` },\r\n    });\r\n    return data;\r\n  };\r\n  let ID: number;\r\n\r\n  const { data, isLoading, isSuccess } = useQuery(\"getUser\", getUserDetail, {\r\n    staleTime: 5000,\r\n  });\r\n\r\n  if (isSuccess) {\r\n    ID = data.id;\r\n  }\r\n\r\n  const RemoveAccount = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (window.confirm(\"Are you sure?\")) {\r\n      await axios.delete(\r\n        `http://localhost:8000/account/delete/${data?.username}`,\r\n        {\r\n          headers: { Authorization: `Token ${token}` },\r\n        }\r\n      );\r\n      window.location.replace(\"/logout\");\r\n    }\r\n  };\r\n\r\n  const ChangePassword = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    const body = {\r\n      old_password: oldPassword,\r\n      new_password: newPassword,\r\n    };\r\n    try {\r\n      const res = await axios.put(\r\n        `http://localhost:8000/api/auth/passwordReset/${data.username}`,\r\n        body,\r\n        {\r\n          headers: { Authorization: `Token ${token}` },\r\n        }\r\n      );\r\n      alert.info(res.data.message);\r\n    } catch {\r\n      console.log(\"Error\");\r\n    }\r\n  };\r\n\r\n  const FormHandler = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    const requestObject = {\r\n      user: data?.id,\r\n      mother,\r\n      father,\r\n    };\r\n    if (HTTPMethod === \"create\") {\r\n      try {\r\n        await axios.post(`http://localhost:8000/api/tree/`, requestObject, {\r\n          headers: { Authorization: `Token ${token}` },\r\n        });\r\n        alert.info(\"Parents Added\");\r\n      } catch (err) {\r\n        alert.error(\"An Error has occured!\");\r\n      }\r\n    } else if (HTTPMethod === \"put\") {\r\n      try {\r\n        await axios.put(\r\n          `http://localhost:8000/api/tree/${ID}/`,\r\n          requestObject,\r\n          {\r\n            headers: { Authorization: `Token ${token}` },\r\n          }\r\n        );\r\n        alert.info(\"Updated Parents\");\r\n      } catch {\r\n        alert.error(\"An Error has occured!\");\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const GetPutNames = async () => {\r\n      try {\r\n        const { data } = await axios.get(\r\n          `http://localhost:8000/api/tree/${ID}`,\r\n          {\r\n            headers: { Authorization: `Token ${token}` },\r\n          }\r\n        );\r\n        if (data.father?.length > 1) {\r\n          setFather(data.father);\r\n          setMother(data.mother);\r\n          setHTTP(\"put\");\r\n        } else {\r\n          setHTTP(\"create\");\r\n        }\r\n      } catch {\r\n        console.log(\"Tree doesn't exist\");\r\n        setHTTP(\"create\");\r\n      }\r\n    };\r\n    GetPutNames();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"modal-form\">\r\n      {isLoading && <Loading />}\r\n      <Link to=\"/home\">\r\n        <div className=\"form-settings\">\r\n          <img src={Tree} alt=\"\" />\r\n        </div>\r\n      </Link>\r\n      <h3 className=\"modal-form__title\">\r\n        Hi {data?.username[0].toUpperCase() + data?.username.slice(1)} customize\r\n        your tree with names below:\r\n      </h3>\r\n      <div className=\"member-form\">\r\n        {routes.map((route, index) => (\r\n          <AddMember type={route} key={index} userId={data?.id} />\r\n        ))}\r\n\r\n        <div className=\"member-box\">\r\n          <h2>Parents</h2>\r\n          <form\r\n            action=\"\"\r\n            className=\"modal-form__parent-form\"\r\n            onSubmit={FormHandler}\r\n          >\r\n            <label htmlFor=\"motherInput\">Mother:</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"motherInput\"\r\n              value={mother}\r\n              onChange={(e) => setMother(e.target.value)}\r\n            />\r\n            <label htmlFor=\"fatherInput\">Father:</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"fatherInput\"\r\n              value={father}\r\n              onChange={(e) => setFather(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Add Parents\"\r\n              className=\"modal-form__parent-form__button\"\r\n            />\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <h1 className=\"title-account\">Account</h1>\r\n      <div className=\"account\">\r\n        <div className=\"account-remove\">\r\n          <form action=\"\" onSubmit={RemoveAccount}>\r\n            <h2>Danger Zone</h2>\r\n            <button type=\"submit\">Delete Account</button>\r\n          </form>\r\n        </div>\r\n        <div className=\"account-password\">\r\n          <form\r\n            action=\"\"\r\n            className=\"modal-form__parent-form\"\r\n            onSubmit={ChangePassword}\r\n          >\r\n            <h2>Change Password</h2>\r\n            <label htmlFor=\"old\">Old Password</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"old\"\r\n              value={oldPassword}\r\n              onChange={(e) => setOldPass(e.target.value)}\r\n            />\r\n            <label htmlFor=\"new\">New Password</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"new\"\r\n              value={newPassword}\r\n              onChange={(e) => setNewPass(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Change Password\"\r\n              className=\"changepassbtn\"\r\n            />\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserInfoForm;\r\n",{"ruleId":"104","replacedBy":"105"},{"ruleId":"106","replacedBy":"107"},{"ruleId":"108","severity":1,"message":"109","line":3,"column":16,"nodeType":"110","messageId":"111","endLine":3,"endColumn":24},{"ruleId":"112","severity":1,"message":"113","line":132,"column":6,"nodeType":"114","endLine":132,"endColumn":8,"suggestions":"115"},"no-native-reassign",["116"],"no-negated-in-lhs",["117"],"@typescript-eslint/no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'ID' and 'token'. Either include them or remove the dependency array.","ArrayExpression",["118"],"no-global-assign","no-unsafe-negation",{"desc":"119","fix":"120"},"Update the dependencies array to be: [ID, token]",{"range":"121","text":"122"},[3613,3615],"[ID, token]"]